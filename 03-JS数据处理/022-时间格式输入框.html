<!--
 * @Author: niumengfei
 * @Date: 2020-05-14 09:17:06
 * @LastEditors: niumengfei
 * @LastEditTime: 2020-05-14 15:59:36
 * @Description: file content
 * @FilePath: \MyTools\03-JS数据处理\022-时间格式输入框.html
 -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="text" oninput="changeValue(this,value)" onblur="moveblur(this,value)" maxlength="5">
    <button onclick="submit()">提交</button>

</body>
<script>
    var reDateTime = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/;
    var isDateTime = false;
    var inputValue = '';

    function changeValue(obj, value) {
        let reg = /[^\d\:]/g
        obj.value = value.replace(reg, '')
        inputValue = obj.value
    }

    function moveblur(obj, value) {
        isDateTime = !reDateTime.test(inputValue)
        if (isDateTime) {
            alert('日期格式有误！请参考格式: 08:09 ')
            obj.value = ''
            inputValue = obj.value
            return;
        }
    }

    function submit() {
        console.log('提交内容::', inputValue)
    }
</script>

</html>